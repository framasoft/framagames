<!DOCTYPE html>
<html>
<head>
	<script src="../js/sprite.js"></script>
	<script src="../js/tile.js"></script>
	<script src="../js/announcer.js"></script>

	<script>
		function setup() {
			orbium.has_canvas = true;

			orbium.Bar = {};
			orbium.Bar.height = 26;

			orbium.loader = {};
			orbium.loader["announcer0"] = new Image();
			orbium.loader["announcer0"].src = "../gfx/464x316/announcer0.png";
			orbium.loader["announcer1"] = new Image();
			orbium.loader["announcer1"].src = "../gfx/464x316/announcer1.png";
			orbium.loader["announcer2"] = new Image();
			orbium.loader["announcer2"].src = "../gfx/464x316/announcer2.png";
			orbium.loader["announcer3"] = new Image();
			orbium.loader["announcer3"].src = "../gfx/464x316/announcer3.png";
		}

		function testAnnounceBlue() {
			var announcer = new orbium.Announcer(0, 0, 0);
			announcer.dirty = false; // Force it to be clean for test below
			announcer.announceNextColor(2);

			fireunit.reCompare(/announcer2.png/, announcer.images[0].src,
				"The correct image src was set.");

			fireunit.ok(announcer.dirty, "Announcer was invalidated.");
		}

		setup();
		testAnnounceBlue();

		fireunit.testDone();
	</script>
</head>
<body/>
</html>
